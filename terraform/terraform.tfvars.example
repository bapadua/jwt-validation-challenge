# ========================================
# JWT Project Terraform Variables - EXAMPLE
# ========================================
# Copy this file to terraform.tfvars and configure your values

# ========================================
# Global Configuration
# ========================================
aws_region     = "us-east-1"              # AWS region for deployment
environment    = "production"              # Environment: dev, staging, production
project_owner  = "admin@yourcompany.com"   # Your email address

# ========================================
# Backend API Configuration (ECS Fargate)
# ========================================
backend_api_instance_count = 2         # Number of ECS tasks (min 1, max 10)
backend_api_cpu           = 512        # CPU units (256, 512, 1024, 2048, 4096)
backend_api_memory        = 1024       # Memory in MB (512-8192)

# ========================================
# Database Configuration (RDS PostgreSQL)
# ========================================
db_name             = "jwtdb"                    # Database name
db_username         = "jwtadmin"                 # Database username
db_password         = "ChangeMePlease123!"       # ⚠️ CHANGE THIS PASSWORD!
db_instance_class   = "db.t3.micro"             # RDS instance class
db_allocated_storage = 20                       # Storage in GB (20-1000)

# ========================================
# Lambda Configuration
# ========================================
lambda_handler     = "io.github.bapadua.lambda.handler.JwtValidationHandler::handleRequest"
lambda_runtime     = "java21"        # Java runtime version
lambda_timeout     = 30              # Timeout in seconds (1-900)
lambda_memory_size = 512             # Memory in MB (128-10240)

# ========================================
# Monitoring Configuration
# ========================================
log_retention_days         = 30      # CloudWatch log retention (1,3,5,7,14,30,60,90,120,150,180,365,400,545,731,1827,3653)
enable_detailed_monitoring = false   # Enable detailed CloudWatch monitoring

# ========================================
# Domain Configuration (Optional)
# ========================================
domain_name     = ""                 # Custom domain (e.g., "api.yourcompany.com")
certificate_arn = ""                 # SSL certificate ARN for HTTPS

# ========================================
# CI/CD Configuration
# ========================================
enable_auto_deploy          = true   # Enable automatic deployment on image push
ecr_lifecycle_policy_count = 10     # Number of images to keep in ECR (5-50)

# ========================================
# Security Notes
# ========================================
# 1. Change the default db_password to a strong password
# 2. Consider using AWS Secrets Manager for sensitive values
# 3. Enable MFA for your AWS account
# 4. Regularly rotate access keys
# 5. Monitor CloudTrail logs for suspicious activity

# ========================================
# Cost Optimization Tips
# ========================================
# 1. Use db.t3.micro for development/testing
# 2. Reduce backend_api_instance_count for dev environments
# 3. Set shorter log_retention_days to reduce costs
# 4. Monitor AWS Cost Explorer regularly
# 5. Use Reserved Instances for production workloads

# ========================================
# Environment-Specific Examples
# ========================================

# Development Environment
# aws_region = "us-east-1"
# environment = "dev"
# backend_api_instance_count = 1
# backend_api_cpu = 256
# backend_api_memory = 512
# db_instance_class = "db.t3.micro"
# log_retention_days = 7

# Staging Environment
# aws_region = "us-east-1"
# environment = "staging"
# backend_api_instance_count = 1
# backend_api_cpu = 512
# backend_api_memory = 1024
# db_instance_class = "db.t3.small"
# log_retention_days = 14

# Production Environment
# aws_region = "us-east-1"
# environment = "production"
# backend_api_instance_count = 3
# backend_api_cpu = 1024
# backend_api_memory = 2048
# db_instance_class = "db.t3.medium"
# log_retention_days = 90
# enable_detailed_monitoring = true 